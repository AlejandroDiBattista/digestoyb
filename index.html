<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Digesto Digital</title>

        <!-- <link href="estilo.css" rel="stylesheet"/> -->
        <link href="word.css" rel="stylesheet"/>
        <link href="base.css" rel="stylesheet"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" >
        
        <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

        <script id="plantilla-ordenanza" type="text/template">
            <div id="lista">
        <!-- <div class="fila"> 
    <button type="button" class="btn btn-outline-primary btn-sm clasificacion" onclick="alterarClasificacion()">
        <i class="bi bi-bar-chart-steps"></i>Mostrar Clasificación</button> 
        </div> 
    </div> -->

                {{#each ordenanza}}
                    <button onclick="generarPagina('{{ordenanza}}')">
                        <div class="card text-center mb-1">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col text-start">
                                        <label class="form-label small text-body-secondary mb-0">Ordenanza</label>
                                        <div class="mt-0 text-primary fw-bold">{{ordenanza}}</div>
                                    </div>
                                    <div class="col text-start">
                                        <label class="form-label small text-body-secondary mb-0">Sanción</label>
                                        <div class="mt-0 text-primary small">{{sancion}}</div>
                                    </div>
                                    <div class="col text-start">
                                        <label class="form-label small text-body-secondary mb-0">Estado</label>
                                        <div class="mt-0 text-primary">{{estado}}</div>
                                    </div>
                                    <div class="col text-start">
                                        <label class="form-label small text-body-secondary mb-0">Alcance</label>
                                        <div class="mt-0 text-primary">{{alcance}}</div>
                                    </div>
                                </div>
                                <div class="my-2 text-start fw-semibold">{{asunto}}</div>
                                <div class="row">
                                    <div class="col text-start">
                                        <label class="form-label small text-body-secondary mb-0">Clasificación</label>
                                        <div class="text-start">
                                            {{#each clasificacion}}
                                                <div class="text-truncate">
                                                    <strong class="small text-primary">{{indice}}</strong>
                                                    <span class="text-secondary">{{descripcion}}</span>
                                                </div>
                                            {{/each}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </button>
                {{/each}}
            </div>
        </script>

        <script id="plantilla-clasificacion" type="text/template">
            <div id="lista">
                {{#each clasificacion}}    
                    <button class="nivel_{{nivel}}" onclick="buscar('{{indice}}>')">
                        <div class="row my-1">
                            <b class="col-2">{{indice}}</b><span class="col-9">{{descripcion}}</span><i class="col-1">{{cantidad}}</i>
                        </div>
                    </button>
                {{/each}}
            </div>
        </script>

        <script id="plantilla-pagina" type="text/template">
            <div>
                <div class="d-flex justify-content-between mb-2">
                    <button type="button" class ="btn btn-outline-primary btn-sm" onclick="volver()">
                        <i class="bi bi-chevron-left"></i> Volver
                    </button>
                    <div>

                        <button type="button" class="btn btn-outline-primary  btn-sm"  onclick="descargarPDF('{{ordenanza}}')">
                            <i class="bi bi-download"></i> Descargar
                        </button>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="enviarWhatsapp('{{ordenanza}}')">
                            <i class="bi bi-whatsapp"></i>
                        </button>
                    </div>
                </div>
                <div class="card text-center">
                    <div class="card-body">
                        {{{cuerpo}}}
                    </div>
                </div>
            </div>
        </script>

        <script src="base.js"></script>
    </head>

    <body>
        <div class="sticky-top">
            <nav class="navbar shadow-sm">
                <div class="container-fluid">
                    <a class="navbar-brand">Digesto YB</a>
                    <!-- <form class="d-flex" role="search">
                        <div class="input-group mb-3">
                            <input id="campoBusqueda" class="form-control" type="search" placeholder="Buscar" aria-label="Search">
                            <span class="input-group-text"><i class="bi bi-search"></i></span>
                        </div>

                    </form> -->
                    <form class="d-flex" role="search"> 
                        <input id="campoBusqueda" class="form-control me-1" type="search" placeholder="Buscar">
                        <!-- <button class="btn btn-primary me-1" type="submit"><i class="bi bi-search"></i> </button> -->
                        <button type="button" class="btn btn-primary clasificacion" onclick="alterarClasificacion()"><i class="bi bi-filter-square"></i></button>
                    </form>
                </div>
            </nav>
        </div>
        
        <div class="container">
            <div id="info" class="text-end me-2"></div>
            <div id="cuerpo" class="m-1"></div>
        </div>        

        <script>cargar();</script>
    </body>
</html>
